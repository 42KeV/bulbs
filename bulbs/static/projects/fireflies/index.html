<html>
	<head>
		<title>Lampyridae (Fireflies) bioluminescence show</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script type="text/javascript" src="../../js/three.js/three.min.js"></script>
		
		<script type="text/javascript">		
			var scene = new THREE.Scene();		
            var renderer = new THREE.WebGLRenderer({ antialias: true });
            
            var materials = [];
            
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            
            var camera = new THREE.PerspectiveCamera(
                35, 
                window.innerWidth / window.innerHeight,
                0.1, // objects closer than value will not be rendered
                100 // objects farther than value will not be rendered
            );            
            
            camera.position.z = 35;
            
            var geometry = new THREE.Geometry();
            
            for (var i = 0; i < 50; i++) {
                var vertex = new THREE.Vector3();
                vertex.x = Math.random() * 25 - 25;
                vertex.y = Math.random() * 25 - 25;
                vertex.z = Math.random() * 25 - 25;
                
                geometry.vertices.push(vertex);
            }
            
            var allparticles = []
            
            for (var j = 0; j < 5; j++) {
                materials[i] = new THREE.PointCloudMaterial({
                    color: "rgb(255,255,0)",
                    size: 1,
                    map: THREE.ImageUtils.loadTexture(
                        "particle.png"
                    ),
                    blending: THREE.AdditiveBlending,
                    transparent: true
                });
                
                particles = new THREE.PointCloud(geometry, materials[i]);
                particles.rotation.x = Math.random() * 6;
                particles.rotation.y = Math.random() * 6;
                particles.rotation.z = Math.random() * 6;
                
                allparticles.push(particles);
                
                scene.add(particles);
            }
            
            
            function render() {
                requestAnimationFrame(render);
                renderer.render(scene, camera);
                
            }
            
            render();
            
		</script>
	</body>
</html>
